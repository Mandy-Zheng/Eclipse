{% extends "_base.html" %}

{% block style %}
<!-- <style>
input[type='checkbox'] {
    width: 18px;
    height: 18px;
    background:white;
    border-radius:5px;
    border:1px solid #555;
}
input[type="checkbox"]:not(:checked) + label.tick:before,
input[type="checkbox"]:checked + label.tick:before {
  content: '';
  position: absolute;
  top: .20em; left: .15em;

  left: 0; top: 0;
  width: 1.25em; height: 1.25em;
}
input[type="checkbox"]:not(:checked) + label.tick:after,
input[type="checkbox"]:checked + label.tick:after {
  content: '\2713\0020';
  position: absolute;
  top: .20em; left: .15em;
  color: #09ad7e;
}
input[type="checkbox"]:not(:checked) + label.tick:after {
  opacity: 0;
  transform: scale(0);
}
input[type="checkbox"]:checked + label.tick:after {
  opacity: 1;
  transform: scale(1);
}
</style> -->
{% endblock %}

{% block body %}
<div style = "margin-left: 15px; margin-right: 15px;">
  <a href="/" class="btn btn-info btn-lg active" role="button" aria-pressed="true">Home</a>
  <br>
  <center>
    <h1>Data Selection</h1>
  </center>
  <h3 style = "color: #A882DD;">Please select the data you want to be displayed.</h3>
  <br>

  <h4 style = "color: #49416D;">Select state(s) and territories for which you want data to be displayed:</h4>
<form action = "/query" method="post">
  <!-- Individual States -->
  <div>

    {% for state in states %}
      {% if state == 'Alabama' %}
      <div class="row">
      {% endif %}
      <div class="col" style = "width: 242px;">
        <span class="form-check checkbox-rounded checkbox-cerulean-blue-filled custom-control-inline">
          <input type="checkbox" class="form-check-input filled-in states" id={{state_dict[state]}} name='{{state}}' style = "height: 15px; width: 18px;">
          <label class="tick"></label>
          <label class="form-check-label">{{state}}</label>
        </span>
      </div>
      {% if state == 'Wyoming' %}
        <div class="col" style = "width: 242px;">
        </div>
        <div class="col" style = "width: 242px;">
        </div>
        <div class="col" style = "width: 242px;">
        </div>
        <div class="col" style = "width: 242px;">
        </div>
      {% endif %}
      {% if state == 'California' or state == 'Georgia' or state == 'Iowa' or state == 'Massachusetts' or state == 'Nebraska'
      or state == 'North Carolina' or state == 'Pennsylvania' or state == 'Texas' or state == 'West Virginia' %}
        </div>
        <div class ="row">
      {% endif %}
      {% if state == 'Wyoming' %}
        </div>
      {% endif %}
    {% endfor %}
    <br>
    <span class="form-check checkbox-rounded checkbox-cerulean-blue-filled">
      <input type="checkbox" class="form-check-input filled-in" id="allStates" name="allStates"  style = "height: 15px; width: 18px;">
      <label class="tick"></label>
      <label class="form-check-label">All States and Territories</label>
    </span>
  </div>
  <br><br>

  <h4 style = "color: #49416D;">Select country/countries for which you want data to be displayed:</h4>

  <!-- Individual Countries -->
  <div>

    {% for country in countriesList %}
      {% if country == 'Afghanistan' %}
      <div class="row">
      {% endif %}
      {% if country == 'Croatia' %}
      </div>
      <div class ="row">
      {% endif %}
      <div class = "col" style = "width: 242px;">
        <div class="form-check checkbox-rounded checkbox-cerulean-blue-filled custom-control-inline">
          <input type="checkbox" class="form-check-input filled-in countries" id='{{country}}' name='{{country}}'  style = "height: 15px; width: 18px;">
          <label class="tick"></label>
          <label class="form-check-label">{{country}}</label>
        </div>
      </div>
      {% if country == 'Antigua and Barbuda' or country == 'Bahamas' or country == 'Belize' or country == 'Brazil' or
      country == 'Cabo Verde' or country == 'Chile' or country == 'Cote d Ivoire' or country == 'Diamond Princess' or
      country == 'El Salvador' or country == 'Fiji' or country == 'Germany' or country == 'Guinea-Bissau' or country ==
      'Iceland' or country == 'Israel' or country == 'Kenya' or country == 'Latvia' or country == 'Luxembourg' or
      country == 'Mali' or country == 'Monaco' or country == 'Nepal' or country == 'North Macedonia' or country == 'Paraguay'
      or country == 'Romania' or country == 'San Marino' or country == 'Sierra Leone' or country == 'South Sudan' or
      country == 'Switzerland' or country == 'Togo' or country == 'Ukraine' or country == 'Vietnam' %}
        </div>
        <div class ="row">
      {% endif %}
      {% if country == 'Zimbabwe' %}
          <div class="col" style = "width: 242px;">
          </div>
        </div>
      {% endif %}
    {% endfor %}
    <br>
    <span class="form-check checkbox-rounded checkbox-cerulean-blue-filled">
      <input type="checkbox" class="form-check-input filled-in" id="allCountries" name="allCountries"  style = "height: 15px; width: 18px;">
      <label class="tick"></label>
      <label class="form-check-label">All Countries</label>
    </span>
  </div>
  <br>
  <center>
      <button type = "submit" class = "btn btn-outline-info" value = "sumbit" disabled> Render </button>
  </center>
</form>
<br><br>
</div>
{% endblock %}

{% block scripts %}
<script>
  var allStates = document.querySelector("#allStates");
  allStates.addEventListener('change', function() {
    if (this.checked) {
      var elements = document.getElementsByClassName("form-check-input filled-in states");
      var state = '';
      for (var i=0; i<elements.length; i++) {
        state = elements[i];
        state.disabled = true;
      }
    }

    if (!this.checked) {
      var elements = document.getElementsByClassName("form-check-input filled-in states");
      var state = '';
      for (var i=0; i<elements.length; i++) {
        state = elements[i];
        state.disabled = false;
      }
    }
  });

  var allCountries = document.querySelector("#allCountries");
  allCountries.addEventListener('change', function() {
    if (this.checked) {
      var elements = document.getElementsByClassName("form-check-input filled-in countries");
      var state = '';
      for (var i=0; i<elements.length; i++) {
        state = elements[i];
        state.disabled = true;
      }
    }

    if (!this.checked) {
      var elements = document.getElementsByClassName("form-check-input filled-in countries");
      var state = '';
      for (var i=0; i<elements.length; i++) {
        state = elements[i];
        state.disabled = false;
      }
    }
  });
</script>
{% endblock %}
